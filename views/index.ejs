<%- include('layout') %>

<h2>Students</h2>

<form method="GET" action="/students">
  <input name="search" value="<%= search %>" placeholder="Search name or course">
  <button type="submit">Search</button>
</form>

<p>
  <a href="/students/new">Add Student</a>
</p>

<table border="1">
  <tr>
    <th>Name</th>
    <th>Age</th>
    <th>Course</th>
    <th>Email</th>
    <th>Actions</th>
  </tr>

  <% students.forEach(s => { %>
    <tr>
      <td><%= s.name %></td>
      <td><%= s.age %></td>
      <td><%= s.course %></td>
      <td><%= s.email %></td>
      <td>
        <a href="/students/<%= s._id %>">View</a>
        |
        <a href="/students/<%= s._id %>/edit">Edit</a>
        |
        <a href="/students/<%= s._id %>/delete">Delete</a>
      </td>
    </tr>
  <% }) %>
</table>

